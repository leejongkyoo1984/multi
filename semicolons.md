# セミコロン

C言語のように、Goの正式な文法は構文を終了するためにセミコロンを使用します。しかし、C言語とは異なり、セミコロンはソース上に現れません。代わりに、構文アナライザ（lexer）は簡単な規則を使ってスキャンを実行するプロセスに自動的にセミコロンを挿入します。そのため、ソース作成時にほとんどセミコロンを使用しない。


ルールは次のとおりです。新しい行の前の最後のトークンが（intやfloat64などの単語を含む）識別子である場合、または数字、文字列などの基本リテラル、または次のトークンのいずれかである場合、パーサー（lexer）は常にトークンの後にあります。セミコロンを追加します。

```go
break continue fallthrough return ++ -- ) }
```

これは、「構文を終了できるトークンの後に新しい行が来たら、セミコロンを挿入します。」のようにまとめて説明することができる。

セミコロンは閉じた中括弧（}）の直前から省略することもできます。たとえば、以下の構文はセミコロンを必要としません。

    go func() { for { dst <- <-src } }()


Goプログラムでは、セミコロンをfor loop構文で変数の初期化と条件、そして進行変数を区切るときにのみ使用します。また、セミコロンは、1行で複数の文章を区切るために必要であり、このようにコードを書く必要があります。

セミコロンの入力規則の重要な1つは、制御文（if、for、switch、またはselect）の開かれた中かっこ（{）を次の行に使用しないことです。このように使用すると、セミコロンは中括弧（{）の前に追加され、予期しない影響が発生します。次のように書いてください。

```go
if i < f() {
    g()
}
```

次のように使用しないでください。

```go
if i < f()  // wrong!
{           // wrong!
    g()
}
```
